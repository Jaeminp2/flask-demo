<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>실시간 타이머</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>⏱ 실시간 타이머</h1>

    <input type="number" id="timerInput" placeholder="초 입력">
    <button onclick="startTimer()">시작</button>
    <button onclick="pauseTimer()" id="pauseBtn">일시정지</button>
    <button onclick="resetTimer()">초기화</button>

    <h2 id="timer">00</h2>

    <a href="/"><button>🏠 메인으로</button></a>

    <script>
        let timerInterval = null;
        let remainingTime = 0;
        let isPaused = false;

        function startTimer() {
            const input = document.getElementById("timerInput").value;
            const duration = parseInt(input);

            if (duration > 0) {
                remainingTime = duration;
                isPaused = false;
                document.getElementById("pauseBtn").innerText = "일시정지";

                if (timerInterval) clearInterval(timerInterval);
                updateTimerDisplay(remainingTime);
                timerInterval = setInterval(runTimer, 1000);
            } else {
                alert("1초 이상 입력하세요!");
            }
        }

        function runTimer() {
            if (!isPaused && remainingTime > 0) {
                remainingTime--;
                updateTimerDisplay(remainingTime);
                if (remainingTime === 0) {
                    clearInterval(timerInterval);
                }
            }
        }

        function pauseTimer() {
            isPaused = !isPaused;
            const btn = document.getElementById("pauseBtn");
            btn.innerText = isPaused ? "재개" : "일시정지";
        }

        function resetTimer() {
            if (timerInterval) clearInterval(timerInterval);
            remainingTime = 0;
            updateTimerDisplay(0);
            document.getElementById("pauseBtn").innerText = "일시정지";
        }

        function updateTimerDisplay(time) {
            document.getElementById("timer").innerText = time;
        }
    </script>
</body>
</html>
